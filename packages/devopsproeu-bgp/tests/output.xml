<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 7.2.2 (Python 3.11.6 on darwin)" generated="2025-10-29T11:08:49.700328" rpa="false" schemaversion="5">
<suite id="s1" name="Devopsproeu-Bgp" source="/Users/alfsando/Documents/nso_loves_netdevops/packages/devopsproeu-bgp/tests/devopsproeu-bgp.robot">
<kw name="Set RESTCONF Request Parameters" type="SETUP">
<kw name="Set NSO environment">
<kw name="Get Environment Variable" owner="OperatingSystem">
<msg time="2025-10-29T11:08:49.872171" level="INFO">${env_value} = test</msg>
<var>${env_value}</var>
<arg>ENVIRONMENT</arg>
<arg>test</arg>
<doc>Returns the value of an environment variable with the given name.</doc>
<status status="PASS" start="2025-10-29T11:08:49.872092" elapsed="0.000097"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.872343" level="INFO">${environment} = test</msg>
<arg>${environment}</arg>
<arg>${env_value}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2025-10-29T11:08:49.872253" elapsed="0.000109"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.872465" level="INFO">Current environment - test</msg>
<arg>Current environment - ${environment}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-29T11:08:49.872412" elapsed="0.000069"/>
</kw>
<kw name="Get File" owner="OperatingSystem">
<msg time="2025-10-29T11:08:49.872578" level="INFO" html="true">Getting file '&lt;a href="file:///Users/alfsando/Documents/nso_loves_netdevops/packages/devopsproeu-bgp/tests/environments.yaml"&gt;/Users/alfsando/Documents/nso_loves_netdevops/packages/devopsproeu-bgp/tests/environments.yaml&lt;/a&gt;'.</msg>
<msg time="2025-10-29T11:08:49.872815" level="INFO">${yaml_envs} = environments:
  test:
    ip_address: localhost
    restconf_port: 8080

  production:
    ip_address: localhost
    restconf_port: 8082</msg>
<var>${yaml_envs}</var>
<arg>/Users/alfsando/Documents/nso_loves_netdevops/packages/devopsproeu-bgp/tests/${ENV_FILE}</arg>
<doc>Returns the contents of a specified file.</doc>
<status status="PASS" start="2025-10-29T11:08:49.872523" elapsed="0.000302"/>
</kw>
<kw name="Safe Load" owner="yaml">
<msg time="2025-10-29T11:08:49.873560" level="INFO">${envs} = {'environments': {'test': {'ip_address': 'localhost', 'restconf_port': 8080}, 'production': {'ip_address': 'localhost', 'restconf_port': 8082}}}</msg>
<var>${envs}</var>
<arg>${yaml_envs}</arg>
<doc>Parse the first YAML document in a stream
and produce the corresponding Python object.</doc>
<status status="PASS" start="2025-10-29T11:08:49.872872" elapsed="0.000712"/>
</kw>
<if>
<branch type="IF" condition="'${environment}' == 'test'">
<kw name="Get Environment Variable" owner="OperatingSystem">
<msg time="2025-10-29T11:08:49.873858" level="INFO">${auth_value} = YWRtaW46YWRtaW4=</msg>
<var>${auth_value}</var>
<arg>TEST_AUTH_HASH</arg>
<doc>Returns the value of an environment variable with the given name.</doc>
<status status="PASS" start="2025-10-29T11:08:49.873771" elapsed="0.000101"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.874029" level="INFO">${nso_address} = localhost</msg>
<arg>${nso_address}</arg>
<arg>${envs}[environments][test][ip_address]</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2025-10-29T11:08:49.873928" elapsed="0.000120"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.874178" level="INFO">${nso_restconf_port} = 8080</msg>
<arg>${nso_restconf_port}</arg>
<arg>${envs}[environments][test][restconf_port]</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2025-10-29T11:08:49.874097" elapsed="0.000097"/>
</kw>
<status status="PASS" start="2025-10-29T11:08:49.873648" elapsed="0.000564"/>
</branch>
<branch type="ELSE">
<kw name="Get Environment Variable" owner="OperatingSystem">
<var>${auth_value}</var>
<arg>PROD_AUTH_HASH</arg>
<doc>Returns the value of an environment variable with the given name.</doc>
<status status="NOT RUN" start="2025-10-29T11:08:49.874272" elapsed="0.000008"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${nso_address}</arg>
<arg>${envs}[environments][production][ip_address]</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2025-10-29T11:08:49.874320" elapsed="0.000006"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<arg>${nso_restconf_port}</arg>
<arg>${envs}[environments][production][restconf_port]</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="NOT RUN" start="2025-10-29T11:08:49.874363" elapsed="0.000005"/>
</kw>
<status status="NOT RUN" start="2025-10-29T11:08:49.874229" elapsed="0.000150"/>
</branch>
<status status="PASS" start="2025-10-29T11:08:49.873629" elapsed="0.000760"/>
</if>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.874494" level="INFO">${nso_auth} = YWRtaW46YWRtaW4=</msg>
<arg>${nso_auth}</arg>
<arg>${auth_value}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2025-10-29T11:08:49.874428" elapsed="0.000080"/>
</kw>
<doc>Set the target NSO connectivity details based on the environment type</doc>
<status status="PASS" start="2025-10-29T11:08:49.871779" elapsed="0.002756"/>
</kw>
<kw name="Set RESTCONF URLs">
<kw name="Replace String" owner="String">
<msg time="2025-10-29T11:08:49.874776" level="INFO">${rest_check_replaced} = http://localhost:8080/restconf/</msg>
<var>${rest_check_replaced}</var>
<arg>${URL_REST_CHECK}</arg>
<arg>_ADDRESS_PORT_</arg>
<arg>${nso_address}:${nso_restconf_port}</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-29T11:08:49.874684" elapsed="0.000102"/>
</kw>
<kw name="Replace String" owner="String">
<msg time="2025-10-29T11:08:49.874907" level="INFO">${bgp_dryrun_replaced} = http://localhost:8080/restconf/data?dry-run=native</msg>
<var>${bgp_dryrun_replaced}</var>
<arg>${URL_BGP_DRYRUN}</arg>
<arg>_ADDRESS_PORT_</arg>
<arg>${nso_address}:${nso_restconf_port}</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-29T11:08:49.874831" elapsed="0.000085"/>
</kw>
<kw name="Replace String" owner="String">
<msg time="2025-10-29T11:08:49.875031" level="INFO">${bgp_commit_replaced} = http://localhost:8080/restconf/data</msg>
<var>${bgp_commit_replaced}</var>
<arg>${URL_BGP_COMMIT}</arg>
<arg>_ADDRESS_PORT_</arg>
<arg>${nso_address}:${nso_restconf_port}</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-29T11:08:49.874958" elapsed="0.000082"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.875148" level="INFO">${URL_REST_CHECK} = http://localhost:8080/restconf/</msg>
<arg>${URL_REST_CHECK}</arg>
<arg>${rest_check_replaced}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2025-10-29T11:08:49.875085" elapsed="0.000076"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.875268" level="INFO">${URL_BGP_DRYRUN} = http://localhost:8080/restconf/data?dry-run=native</msg>
<arg>${URL_BGP_DRYRUN}</arg>
<arg>${bgp_dryrun_replaced}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2025-10-29T11:08:49.875204" elapsed="0.000077"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.875378" level="INFO">${URL_BGP_COMMIT} = http://localhost:8080/restconf/data</msg>
<arg>${URL_BGP_COMMIT}</arg>
<arg>${bgp_commit_replaced}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2025-10-29T11:08:49.875321" elapsed="0.000070"/>
</kw>
<doc>Set the URLs for the NSO RESTCONF requests</doc>
<status status="PASS" start="2025-10-29T11:08:49.874606" elapsed="0.000881"/>
</kw>
<kw name="Set RESTCONF Headers">
<kw name="Set Headers" owner="REST">
<arg>{ "Authorization": "Basic ${nso_auth}"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" start="2025-10-29T11:08:49.875602" elapsed="0.000083"/>
</kw>
<kw name="Set Headers" owner="REST">
<arg>{ "Accept": "application/yang-data+json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" start="2025-10-29T11:08:49.875720" elapsed="0.000036"/>
</kw>
<kw name="Set Headers" owner="REST">
<arg>{ "Content-type": "application/yang-data+json"}</arg>
<tag>settings</tag>
<doc>*Sets new request headers or updates the existing.*</doc>
<status status="PASS" start="2025-10-29T11:08:49.875789" elapsed="0.000032"/>
</kw>
<doc>Set the headers for the NSO RESTCONF requests</doc>
<status status="PASS" start="2025-10-29T11:08:49.875541" elapsed="0.000300"/>
</kw>
<kw name="Set RESTCONF Body">
<kw name="Get File" owner="OperatingSystem">
<msg time="2025-10-29T11:08:49.876001" level="INFO" html="true">Getting file '&lt;a href="file:///Users/alfsando/Documents/nso_loves_netdevops/packages/devopsproeu-bgp/tests/bgp-inventory.json"&gt;/Users/alfsando/Documents/nso_loves_netdevops/packages/devopsproeu-bgp/tests/bgp-inventory.json&lt;/a&gt;'.</msg>
<msg time="2025-10-29T11:08:49.876117" level="INFO">${bgp_inventory_payload} = {
  "data": {
    "devopsproeu-bgp:devopsproeu-bgp": [
      {
        "device": "asr9k-xr-7601",
        "local-as": 65001,
        "neighbors": [
          {
            "address": "192.0.2.2",
    ...</msg>
<var>${bgp_inventory_payload}</var>
<arg>/Users/alfsando/Documents/nso_loves_netdevops/packages/devopsproeu-bgp/tests/bgp-inventory.json</arg>
<doc>Returns the contents of a specified file.</doc>
<status status="PASS" start="2025-10-29T11:08:49.875955" elapsed="0.000174"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.876242" level="INFO">${bgp_inventory} = {
  "data": {
    "devopsproeu-bgp:devopsproeu-bgp": [
      {
        "device": "asr9k-xr-7601",
        "local-as": 65001,
        "neighbors": [
          {
            "address": "192.0.2.2",
    ...</msg>
<arg>${bgp_inventory}</arg>
<arg>${bgp_inventory_payload}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2025-10-29T11:08:49.876172" elapsed="0.000083"/>
</kw>
<doc>Set the body payload for the NSO RESTCONF requests</doc>
<status status="PASS" start="2025-10-29T11:08:49.875889" elapsed="0.000385"/>
</kw>
<doc>Set the headers and URLs for the NSO RESTCONF requests</doc>
<status status="PASS" start="2025-10-29T11:08:49.871592" elapsed="0.004699"/>
</kw>
<test id="s1-t1" name="🤖 Test RESTCONF reachability to NSO 🤖" line="28">
<kw name="GET" owner="REST">
<msg time="2025-10-29T11:08:49.933355" level="INFO">${result} = {'seconds': 0.049901, 'status': 200, 'reason': 'OK', 'body': {'ietf-restconf:restconf': {'data': {}, 'operations': {}, 'yang-library-version': '2019-01-04'}}, 'headers': {'Date': 'Wed, 29 Oct 2025 11:...</msg>
<var>${result}</var>
<arg>${URL_REST_CHECK}</arg>
<tag>http</tag>
<doc>*Sends a GET request to the endpoint.*</doc>
<status status="PASS" start="2025-10-29T11:08:49.876557" elapsed="0.056844"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.933737" level="INFO">{'seconds': 0.049901, 'status': 200, 'reason': 'OK', 'body': {'ietf-restconf:restconf': {'data': {}, 'operations': {}, 'yang-library-version': '2019-01-04'}}, 'headers': {'Date': 'Wed, 29 Oct 2025 11:08:49 GMT', 'Cache-Control': 'private, no-cache, must-revalidate, proxy-revalidate', 'Content-Length': '90', 'Content-Type': 'application/yang-data+json', 'traceparent': '00-d20f04034070eed278d419c56c6492f3-616ec9fd76763180-01', 'Pragma': 'no-cache', 'Content-Security-Policy': "default-src 'self'; style-src 'self' 'nonce-NSO_STYLE_NONCE'; block-all-mixed-content; base-uri 'self'; frame-ancestors 'none';", 'Cross-Origin-Embedder-Policy': 'require-corp', 'Cross-Origin-Opener-Policy': 'same-origin', 'Strict-Transport-Security': 'max-age=15552000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'X-Frame-Options': 'DENY', 'X-XSS-Protection': '1; mode=block'}}</msg>
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-29T11:08:49.933616" elapsed="0.000146"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.933872" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${result}[status]</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2025-10-29T11:08:49.933809" elapsed="0.000096"/>
</kw>
<doc>Test RESTCONF reachability to NSO</doc>
<status status="PASS" start="2025-10-29T11:08:49.876327" elapsed="0.057645"/>
</test>
<test id="s1-t2" name="🤖 DRY-RUN - Provision BGP inventory configurations 🤖" line="34">
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.934454" level="INFO">http://localhost:8080/restconf/data?dry-run=native</msg>
<arg>${URL_BGP_DRYRUN}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-29T11:08:49.934400" elapsed="0.000072"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-29T11:08:49.934563" level="INFO">{
  "data": {
    "devopsproeu-bgp:devopsproeu-bgp": [
      {
        "device": "asr9k-xr-7601",
        "local-as": 65001,
        "neighbors": [
          {
            "address": "192.0.2.2",
            "remote-as": 65002,
            "networks": [
              {
                "prefix": "192.168.1.0/24"
              }
            ]
          },
          {
            "address": "203.0.113.1",
            "remote-as": 65003,
            "networks": [
              {
                "prefix": "196.178.1.0/24"
              }
            ]
          }
        ]
      },
      {
        "device": "ncs5k-xr-5702",
        "local-as": 65001,
        "neighbors": [
          {
            "address": "199.0.113.1",
            "remote-as": 65002,
            "networks": [
              {
                "prefix": "198.145.1.0/24"
              }
            ]
          }
        ]
      }
    ]
  }
}
</msg>
<arg>${bgp_inventory}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-29T11:08:49.934518" elapsed="0.000068"/>
</kw>
<kw name="PATCH" owner="REST">
<msg time="2025-10-29T11:08:50.678565" level="INFO">${result} = {'seconds': 0.741798, 'status': 200, 'reason': 'OK', 'body': {'dry-run-result': {'native': {'device': [{'name': 'asr9k-xr-7601', 'data': 'router bgp 65001\n address-family ipv4 unicast\n  network 192....</msg>
<var>${result}</var>
<arg>${URL_BGP_DRYRUN}</arg>
<arg>${bgp_inventory}</arg>
<tag>http</tag>
<doc>*Sends a PATCH request to the endpoint.*</doc>
<status status="PASS" start="2025-10-29T11:08:49.934634" elapsed="0.744001"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-29T11:08:50.679128" level="INFO">Full body - {'seconds': 0.741798, 'status': 200, 'reason': 'OK', 'body': {'dry-run-result': {'native': {'device': [{'name': 'asr9k-xr-7601', 'data': 'router bgp 65001\n address-family ipv4 unicast\n  network 192.168.1.0/24\n  network 196.178.1.0/24\n exit\n neighbor 192.0.2.2\n  remote-as 65002\n exit\n neighbor 203.0.113.1\n  remote-as 65003\n exit\nexit\n'}, {'name': 'ncs5k-xr-5702', 'data': 'router bgp 65001\n address-family ipv4 unicast\n  network 198.145.1.0/24\n exit\n neighbor 199.0.113.1\n  remote-as 65002\n exit\nexit\n'}]}}}, 'headers': {'Date': 'Wed, 29 Oct 2025 11:08:49 GMT', 'Last-Modified': 'Wed, 29 Oct 2025 10:47:08 GMT', 'Cache-Control': 'private, no-cache, must-revalidate, proxy-revalidate', 'Etag': 'W/"1761-734828-638109+json"', 'Content-Length': '471', 'Content-Type': 'application/yang-data+json', 'traceparent': '00-bb60329bdb3217c35595f29e5d8368b0-87e45487e1c212b7-01', 'Pragma': 'no-cache', 'Content-Security-Policy': "default-src 'self'; style-src 'self' 'nonce-NSO_STYLE_NONCE'; block-all-mixed-content; base-uri 'self'; frame-ancestors 'none';", 'Cross-Origin-Embedder-Policy': 'require-corp', 'Cross-Origin-Opener-Policy': 'same-origin', 'Strict-Transport-Security': 'max-age=15552000; includeSubDomains', 'X-Content-Type-Options': 'nosniff', 'X-Frame-Options': 'DENY', 'X-XSS-Protection': '1; mode=block'}}</msg>
<arg>Full body - ${result}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-29T11:08:50.678881" elapsed="0.000502"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-10-29T11:08:50.679619" level="INFO">Dry-run Native Payload - {'device': [{'name': 'asr9k-xr-7601', 'data': 'router bgp 65001\n address-family ipv4 unicast\n  network 192.168.1.0/24\n  network 196.178.1.0/24\n exit\n neighbor 192.0.2.2\n  remote-as 65002\n exit\n neighbor 203.0.113.1\n  remote-as 65003\n exit\nexit\n'}, {'name': 'ncs5k-xr-5702', 'data': 'router bgp 65001\n address-family ipv4 unicast\n  network 198.145.1.0/24\n exit\n neighbor 199.0.113.1\n  remote-as 65002\n exit\nexit\n'}]}</msg>
<arg>Dry-run Native Payload - ${result}[body][dry-run-result][native]</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-10-29T11:08:50.679491" elapsed="0.000150"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2025-10-29T11:08:50.679760" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${result}[status]</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2025-10-29T11:08:50.679696" elapsed="0.000092"/>
</kw>
<doc>DRY-RUN: Provision BGP inventory configurations</doc>
<status status="PASS" start="2025-10-29T11:08:49.934103" elapsed="0.745743"/>
</test>
<test id="s1-t3" name="🤖 COMMIT - Provision BGP inventory configurations 🤖" line="43">
<kw name="PATCH" owner="REST">
<msg time="2025-10-29T11:08:52.243188" level="INFO">${result} = {'seconds': 0.561785, 'status': 204, 'reason': 'No Content', 'body': '', 'headers': {'Date': 'Wed, 29 Oct 2025 11:08:50 GMT', 'Last-Modified': 'Wed, 29 Oct 2025 11:08:52 GMT', 'Cache-Control': 'privat...</msg>
<var>${result}</var>
<arg>${URL_BGP_COMMIT}</arg>
<arg>${bgp_inventory}</arg>
<tag>http</tag>
<doc>*Sends a PATCH request to the endpoint.*</doc>
<status status="PASS" start="2025-10-29T11:08:50.680247" elapsed="1.562966"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2025-10-29T11:08:52.243404" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${result}[status]</arg>
<arg>204</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2025-10-29T11:08:52.243308" elapsed="0.000123"/>
</kw>
<doc>COMMIT: Provision BGP inventory configurations</doc>
<status status="PASS" start="2025-10-29T11:08:50.679968" elapsed="1.563513"/>
</test>
<doc>👾 NetDevOps Demo with Cisco Crossworks Network Services Orchestrator (NSO) 👾
Testing of BGP inventory provisioning.
Author: @ponchotitlan</doc>
<status status="PASS" start="2025-10-29T11:08:49.701014" elapsed="2.542684"/>
</suite>
<statistics>
<total>
<stat pass="3" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat name="Devopsproeu-Bgp" id="s1" pass="3" fail="0" skip="0">Devopsproeu-Bgp</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
